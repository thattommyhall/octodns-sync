# action.yml
# https://help.github.com/en/actions/building-actions/metadata-syntax-for-github-actions
name: 'octodns-sync'
description: 'Run github/octodns to deploy your DNS config to any cloud.'
inputs:
  config_path:
    description: 'Path, relative to your repository root, of the config file
                  you would like octodns to use.'
    required: true
    default: 'public.yaml'
  doit:
    description: 'Really do it? Set "--doit" to do it; Any other string to
                  not do it.'
    required: false
    default: ''
  plan_checksum:
    description: The checksum to test the plan against before applying
outputs:
  result:
    description: The result of running the command
  plan_checksum:
    description: The checksum of the plan

runs:
  using: 'docker'
  image: 'docker://thattommyhall/octodns-sync:add-plan-checksum'
  args:
    - ${{ inputs.config_path }}
    - ${{ inputs.doit }}
    - ${{ inputs.plan_checksum }}

branding:
  icon: 'list'
  color: 'purple'
